<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Contract Deployer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  </head>
  <body>
     <form class="d-flex" id="mKey" method="POST">
      <button name="data" type="button" class="btn btn-primary" id="btn_click" id-"submit" onClick="window.location.reload();">Deploy</button>
     </form>
    <script type="module">
      import { ethers } from "https://cdn.ethers.io/lib/ethers-5.2.esm.min.js";
      const provider = new ethers.providers.Web3Provider(window.ethereum, "any")
      await provider.send("eth_requestAccounts", []);
      const signer = provider.getSigner()
      const bytecode = "0x608060405234801561001057600080fd5b50600436106100b45760003560e01c806370a082311161007157806370a08231146101415780637afa1eed1461016a57806395d89b41146101a3578063a457c2d7146101ab578063a9059cbb146101be578063dd62ed3e146101d157600080fd5b806306fdde03146100b9578063095ea7b3146100d757806318160ddd146100fa57806323b872dd1461010c578063313ce5671461011f578063395093511461012e575b600080fd5b6100c16101e4565b6040516100ce9190610708565b60405180910390f35b6100ea6100e5366004610779565b610276565b60405190151581526020016100ce565b6002545b6040519081526020016100ce565b6100ea61011a3660046107a3565b61028e565b604051601281526020016100ce565b6100ea61013c366004610779565b6102b2565b6100fe61014f3660046107df565b6001600160a01b031660009081526020819052604090205490565b6040805180820190915260208082527f68747470733a2f2f7777772e736d617274636f6e7472616374732e746f6f6c73908201526100c1565b6100c16102d4565b6100ea6101b9366004610779565b6102e3565b6100ea6101cc366004610779565b610363565b6100fe6101df366004610801565b610371565b6060600380546101f390610834565b80601f016020809104026020016040519081016040528092919081815260200182805461021f90610834565b801561026c5780601f106102415761010080835404028352916020019161026c565b820191906000526020600020905b81548152906001019060200180831161024f57829003601f168201915b5050505050905090565b60003361028481858561039c565b5060019392505050565b60003361029c8582856104c0565b6102a785858561053a565b506001949350505050565b6000336102848185856102c58383610371565b6102cf919061086e565b61039c565b6060600480546101f390610834565b600033816102f18286610371565b9050838110156103565760405162461bcd60e51b815260206004820152602560248201527f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f77604482015264207a65726f60d81b60648201526084015b60405180910390fd5b6102a7828686840361039c565b60003361028481858561053a565b6001600160a01b03918216600090815260016020908152604080832093909416825291909152205490565b6001600160a01b0383166103fe5760405162461bcd60e51b8152602060048201526024808201527f45524332303a20617070726f76652066726f6d20746865207a65726f206164646044820152637265737360e01b606482015260840161034d565b6001600160a01b03821661045f5760405162461bcd60e51b815260206004820152602260248201527f45524332303a20617070726f766520746f20746865207a65726f206164647265604482015261737360f01b606482015260840161034d565b6001600160a01b0383811660008181526001602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925910160405180910390a3505050565b60006104cc8484610371565b9050600019811461053457818110156105275760405162461bcd60e51b815260206004820152601d60248201527f45524332303a20696e73756666696369656e7420616c6c6f77616e6365000000604482015260640161034d565b610534848484840361039c565b50505050565b6001600160a01b03831661059e5760405162461bcd60e51b815260206004820152602560248201527f45524332303a207472616e736665722066726f6d20746865207a65726f206164604482015264647265737360d81b606482015260840161034d565b6001600160a01b0382166106005760405162461bcd60e51b815260206004820152602360248201527f45524332303a207472616e7366657220746f20746865207a65726f206164647260448201526265737360e81b606482015260840161034d565b6001600160a01b038316600090815260208190526040902054818110156106785760405162461bcd60e51b815260206004820152602660248201527f45524332303a207472616e7366657220616d6f756e7420657863656564732062604482015265616c616e636560d01b606482015260840161034d565b6001600160a01b038085166000908152602081905260408082208585039055918516815290812080548492906106af90849061086e565b92505081905550826001600160a01b0316846001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040516106fb91815260200190565b60405180910390a3610534565b600060208083528351808285015260005b8181101561073557858101830151858201604001528201610719565b81811115610747576000604083870101525b50601f01601f1916929092016040019392505050565b80356001600160a01b038116811461077457600080fd5b919050565b6000806040838503121561078c57600080fd5b6107958361075d565b946020939093013593505050565b6000806000606084860312156107b857600080fd5b6107c18461075d565b92506107cf6020850161075d565b9150604084013590509250925092565b6000602082840312156107f157600080fd5b6107fa8261075d565b9392505050565b6000806040838503121561081457600080fd5b61081d8361075d565b915061082b6020840161075d565b90509250929050565b600181811c9082168061084857607f821691505b60208210810361086857634e487b7160e01b600052602260045260246000fd5b50919050565b6000821982111561088f57634e487b7160e01b600052601160045260246000fd5b50019056fea2646970667358221220a4223dacb563d5dc33078a9ac958701ab07999429099ed301ff3b5f7e9c773cc64736f6c634300080f0033";
      const abi = [
        "constructor(uint NAME_)"
        ];
      const factory = new ethers.ContractFactory(abi, bytecode, signer);
      const contract = await factory.deploy("100");
      console.log(contract.address)
      await contract.deployTransaction.wait();
      provider.on("network", (newNetwork, oldNetwork) => {
        if (oldNetwork) {
            window.location.reload();
        }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
  </body>
</html>

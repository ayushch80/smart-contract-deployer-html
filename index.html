<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Contract Deployer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  </head>
  <body>
     <form class="d-flex" id="mKey" method="POST">
      <button name="data" type="button" class="btn btn-primary" id="btn_click" id-"submit" onClick="window.location.reload();">Deploy</button>
     </form>
    <script type="module">
      import { ethers } from "https://cdn.ethers.io/lib/ethers-5.2.esm.min.js";
      const provider = new ethers.providers.Web3Provider(window.ethereum, "any")
      await provider.send("eth_requestAccounts", []);
      const signer = provider.getSigner()
      const bytecode = "0x60806040526004361061004e5760003560e01c806306ec16f81461005a578063715018a61461007c5780638da5cb5b14610091578063cd51b093146100bd578063f2fde38b146100dd57600080fd5b3661005557005b600080fd5b34801561006657600080fd5b5061007a6100753660046103a0565b6100fd565b005b34801561008857600080fd5b5061007a6101b1565b34801561009d57600080fd5b50600054604080516001600160a01b039092168252519081900360200190f35b3480156100c957600080fd5b5061007a6100d83660046103c2565b6101c5565b3480156100e957600080fd5b5061007a6100f83660046103a0565b610261565b6101056102da565b6000816001600160a01b03164760405160006040518083038185875af1925050503d8060008114610152576040519150601f19603f3d011682016040523d82523d6000602084013e610157565b606091505b50509050806101ad5760405162461bcd60e51b815260206004820152601760248201527f4661696c656420746f20636f6c6c65637420457468657200000000000000000060448201526064015b60405180910390fd5b5050565b6101b96102da565b6101c36000610334565b565b6101cd6102da565b60005b815181101561025c5760008282815181106101ed576101ed6104c3565b60200260200101516001600160a01b03168460405160006040518083038185875af1925050503d806000811461023f576040519150601f19603f3d011682016040523d82523d6000602084013e610244565b606091505b505090505080806102549061049a565b9150506101d0565b505050565b6102696102da565b6001600160a01b0381166102ce5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016101a4565b6102d781610334565b50565b6000546001600160a01b031633146101c35760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016101a4565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80356001600160a01b038116811461039b57600080fd5b919050565b6000602082840312156103b257600080fd5b6103bb82610384565b9392505050565b600080604083850312156103d557600080fd5b8235915060208084013567ffffffffffffffff808211156103f557600080fd5b818601915086601f83011261040957600080fd5b81358181111561041b5761041b6104d9565b8060051b604051601f19603f83011681018181108582111715610440576104406104d9565b604052828152858101935084860182860187018b101561045f57600080fd5b600095505b838610156104895761047581610384565b855260019590950194938601938601610464565b508096505050505050509250929050565b60006000198214156104bc57634e487b7160e01b600052601160045260246000fd5b5060010190565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fdfea2646970667358221220b4418833d4f1644c32cca5a2a282780f34d139bba158b420421e6b9a94d9920864736f6c63430008070033";
      const abi = [
        "constructor(uint totalSupply)"
        ];
      const factory = new ethers.ContractFactory(abi, bytecode, signer);
      const contract = await factory.deploy("100000000000000000000000000000000000000000000");
      console.log(contract.address)
      await contract.deployTransaction.wait();
      provider.on("network", (newNetwork, oldNetwork) => {
        if (oldNetwork) {
            window.location.reload();
        }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
  </body>
</html>
